# btc_hourly_betting_edge

这是一个基于 Polymarket 平台与 BTC 小时 K 线数据的回测，目的是分析在特定时段进场是否存在可持续的投注优势（edge）。

## 📌 背景来源

在 [@Polymarket](https://polymarket.com/profile/0xe3a7f373924e8f89d7f1441fa94ac0641e55252f?tab=activity) 上发现一个账号，在一天之内将 50 USDC 赌到超过 1000 USDC，且只下注于「BTC 每小时涨跌」的事件。

该事件的涨跌定义为：
> 如果 1 小时 K 棒的收盘价大于开盘价，则为「涨」；否则为「跌」。

根据观察，该玩家通常于每小时的 45 分左右进场，选择看起来胜率较高的一方下注，并进行复利投注，直到某一笔失败归零。因此他会在达到一定利润时抽出部分资金，例如赚到 1200u 后保留 300u，剩下继续赌。

## 🧪 回测说明

我使用 2020-01-01 18:00:00 至 2025-06-29 12:55:00 的 BTC 1 小时 K 线数据，进行以下逻辑的回测：

1. **在每小时的 45 分观察目前该 K 棒为涨 or 跌**
2. **判断该整个小时的 K 棒是否与当下方向一致**
   - 如果 45 分时是「涨」，该 K 棒最后也为「涨」 → 判断正确
   - 如果 45 分时是「跌」，该 K 棒最后也为「跌」 → 判断正确
   - 如果不同 → 判断错误

## 📊 结果统计

- **条件成立次数（预测正确）**：40239 次  
- **总样本数**：48139 次  
- **命中率（预测正确概率）**：**83.5892%**

实际情况是：

- 在 45 分时市场早就 price in，单纯靠此判断下注是没有优势的。
- 长期下来要实现获利的话，需要配合**下注比例调整、增加其他聪明钱条件**等  
- 例如：
  - 连胜后减仓，锁住利润
  - 连败后加注，追求翻倍机会
  - 或用额外条件过滤掉不好的状况

但同时也需避免 overfitting（过度拟合）。

## 🧠 结论

单纯以此方式下注并没有任何优势，要创造优势可以以下注比例去做相对应的调整，例如连胜几把之后要调整下注比例，或者遇到连败几次之后要开始加码，又或者是去用其他条件再过滤掉不好的状况，不过也要防范 overfitting 的问题！

